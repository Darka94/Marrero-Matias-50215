{% extends "web/home.html" %}
{% load widget_tweaks %}
{% load static %}

{% block head %}
    {{ block.super }}
    <!-- Agregar Bootstrap desde CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Estilos personalizados -->
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f9fa; /* Cambia el color de fondo según lo necesites */
        }
        .btn_crear {
            text-align: center;
            margin-bottom: 20px;
        }
        .table-responsive {
            margin: 0 auto;
            width: 80%; /* Ajusta el ancho de la tabla según sea necesario */
        }
    </style>
{% endblock head %}

{% block body %}
<div class="container py-4">
    <div class="btn_crear">
        <a href="crear" type="button" class="btn btn-primary">Crear</a>
    </div>

    <div class="table-responsive">
        <table class="table table-dark table-striped text-center">
            <thead>
                <tr>
                    <th scope="col">Imagen</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Categoría</th>
                    <th scope="col">Acciones</th>
                    <form method="GET">
                        {{ form }}
                        <button type="submit" class="btn btn-primary" color="white">Buscar</button>
                    </form>
                </tr>
            </thead>
            <tbody>
                {% for producto in object_list %}
                <tr>
                    <td><img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" class="img-fluid" style="max-width: 100px;"></td>
                    <td>{{ producto.nombre }}</td>
                    <td>{{ producto.precio }}</td>
                    <td>{{ producto.categoria }}</td>
                    <td>
                        <form method="POST" action="eliminar/{{ producto.id }}">
                            {% csrf_token %}
                            <div class="btn-group">
                                <a href="detalle/{{producto.pk }}" title="Ver" class="btn btn-success">Ver</a>
                                <a href="editar/{{producto.pk}}" title="Editar" type="button" class="btn btn-primary">Editar </a>
                                <button class="btn btn-danger" onclick="return confirm('Eliminar Producto ?');" type="submit">Eliminar</button>
                            </div>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    {% if messages %}
    <ul class="messages list-group mb-3">
        {% for message in messages %}
        <li {% if message.tags %} class="{{ message.tags }} list-group-item list-group-item-primary"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
</div>
{% endblock body %}
