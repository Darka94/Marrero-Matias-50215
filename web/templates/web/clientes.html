{% extends "web/home.html" %}
{% load django_bootstrap5 %}
{% load widget_tweaks %}
{% load static %}

{% block body %}
<style>
    body {
        color: #fff; /* Color blanco para todas las letras */
    }
</style>

<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div align="left" class="btn_crear mb-3">
          <a href="crear" type="button" class="btn btn-primary">Crear</a>
      </div>

      <div class="table-responsive">
          <table class="table table-dark">
              <thead>
                  <tr>
                      <th scope="col">Nombre</th>
                      <th scope="col">Email</th>
                      <th scope="col">Acciones</th>
                  </tr>
              </thead>
              <tbody>
                  <!-- Recorremos los objetos o registros que tenemos en nuestra tabla 'clientes' y los listamos -->
                  {% for cliente in object_list %}
                  <tr>
                      <td>{{ cliente.nombre }}</td>
                      <td>{{ cliente.email }}</td>
                      <td>
                          <!-- Usaremos un formulario que realizarÃ¡ la tarea de eliminar un registro o cliente desde la misma tabla HTML -->
                          <form method="POST" action="eliminar/{{ cliente.id }}">
                              {% csrf_token %}
                              <div class="btn-group">
                                  <!-- Creamos 3 botones que son ver, Editar y Eliminar, nos sirven para gestionar nuestros registros o clientes -->
                                  <a href="detalle/{{cliente.pk }}" title="Ver" class="btn btn-success">Ver</a>
                                  <a href="editar/{{cliente.pk }}" title="Editar" type="button" class="btn btn-primary">Editar</a>

                                  <button class="btn btn-danger" onclick="return eliminar();" type="submit">Eliminar</button>
                              </div>
                          </form>
                      </td>
                  </tr>
                  {% endfor %}
              </tbody>
          </table>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
    function eliminar() {
      var x = confirm("Eliminar Cliente ?");
      if (x)
        return true;
      else
        return false;
    }
</script>

{% if messages %}
  <ul class="messages list-group mb-3">
    {% for message in messages %}
    <li {% if message.tags %} class="{{ message.tags }} list-group-item list-group-item-primary"{% endif %}>{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}
{% endblock body %}
